<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Challenge: 02 GitHub Actions in Action | Azure Developer College</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/trainingdays/assets/css/0.styles.307428eb.css" as="style"><link rel="preload" href="/trainingdays/assets/js/app.f35de7a7.js" as="script"><link rel="preload" href="/trainingdays/assets/js/2.989cf5bf.js" as="script"><link rel="preload" href="/trainingdays/assets/js/19.9e4b55d0.js" as="script"><link rel="prefetch" href="/trainingdays/assets/js/10.780aeda4.js"><link rel="prefetch" href="/trainingdays/assets/js/11.4c6423b8.js"><link rel="prefetch" href="/trainingdays/assets/js/12.fcf4e990.js"><link rel="prefetch" href="/trainingdays/assets/js/13.e01097b2.js"><link rel="prefetch" href="/trainingdays/assets/js/14.8555b734.js"><link rel="prefetch" href="/trainingdays/assets/js/15.e7b4cb61.js"><link rel="prefetch" href="/trainingdays/assets/js/16.ca0534a3.js"><link rel="prefetch" href="/trainingdays/assets/js/17.9f693448.js"><link rel="prefetch" href="/trainingdays/assets/js/18.2f2093d6.js"><link rel="prefetch" href="/trainingdays/assets/js/20.476d977c.js"><link rel="prefetch" href="/trainingdays/assets/js/21.b31a3392.js"><link rel="prefetch" href="/trainingdays/assets/js/22.3f90568e.js"><link rel="prefetch" href="/trainingdays/assets/js/23.d6548904.js"><link rel="prefetch" href="/trainingdays/assets/js/24.83e5af0f.js"><link rel="prefetch" href="/trainingdays/assets/js/25.83c4ee46.js"><link rel="prefetch" href="/trainingdays/assets/js/26.e72c9381.js"><link rel="prefetch" href="/trainingdays/assets/js/27.9536bb3f.js"><link rel="prefetch" href="/trainingdays/assets/js/28.70f1ef7a.js"><link rel="prefetch" href="/trainingdays/assets/js/29.3801b9b5.js"><link rel="prefetch" href="/trainingdays/assets/js/3.2e517bab.js"><link rel="prefetch" href="/trainingdays/assets/js/30.3d0f53bb.js"><link rel="prefetch" href="/trainingdays/assets/js/31.fd5d8ddb.js"><link rel="prefetch" href="/trainingdays/assets/js/32.0e00bee7.js"><link rel="prefetch" href="/trainingdays/assets/js/33.2fb17a4b.js"><link rel="prefetch" href="/trainingdays/assets/js/34.a0a1c041.js"><link rel="prefetch" href="/trainingdays/assets/js/35.7e58dabe.js"><link rel="prefetch" href="/trainingdays/assets/js/36.f2c555a8.js"><link rel="prefetch" href="/trainingdays/assets/js/37.1ec7a02f.js"><link rel="prefetch" href="/trainingdays/assets/js/38.bb236e14.js"><link rel="prefetch" href="/trainingdays/assets/js/39.12a794aa.js"><link rel="prefetch" href="/trainingdays/assets/js/4.076fa189.js"><link rel="prefetch" href="/trainingdays/assets/js/40.f93c86e0.js"><link rel="prefetch" href="/trainingdays/assets/js/41.c39ede3a.js"><link rel="prefetch" href="/trainingdays/assets/js/42.554cec04.js"><link rel="prefetch" href="/trainingdays/assets/js/43.5bd4eeb1.js"><link rel="prefetch" href="/trainingdays/assets/js/44.74e2d89b.js"><link rel="prefetch" href="/trainingdays/assets/js/45.6f467ebc.js"><link rel="prefetch" href="/trainingdays/assets/js/46.b13f8c9f.js"><link rel="prefetch" href="/trainingdays/assets/js/47.db58a6dd.js"><link rel="prefetch" href="/trainingdays/assets/js/48.9234eefe.js"><link rel="prefetch" href="/trainingdays/assets/js/49.f520e854.js"><link rel="prefetch" href="/trainingdays/assets/js/5.cd4a6f92.js"><link rel="prefetch" href="/trainingdays/assets/js/50.f76042e4.js"><link rel="prefetch" href="/trainingdays/assets/js/51.e48d1f47.js"><link rel="prefetch" href="/trainingdays/assets/js/52.1a0f794c.js"><link rel="prefetch" href="/trainingdays/assets/js/53.34b352ea.js"><link rel="prefetch" href="/trainingdays/assets/js/54.413dfc7f.js"><link rel="prefetch" href="/trainingdays/assets/js/55.6630c97c.js"><link rel="prefetch" href="/trainingdays/assets/js/56.e0c1984b.js"><link rel="prefetch" href="/trainingdays/assets/js/57.e8b3165a.js"><link rel="prefetch" href="/trainingdays/assets/js/58.f0b5c00b.js"><link rel="prefetch" href="/trainingdays/assets/js/59.3f39eda3.js"><link rel="prefetch" href="/trainingdays/assets/js/6.08ea3b2a.js"><link rel="prefetch" href="/trainingdays/assets/js/60.1743d283.js"><link rel="prefetch" href="/trainingdays/assets/js/61.51333324.js"><link rel="prefetch" href="/trainingdays/assets/js/62.d8fe34bc.js"><link rel="prefetch" href="/trainingdays/assets/js/63.f95b8160.js"><link rel="prefetch" href="/trainingdays/assets/js/64.414eae6e.js"><link rel="prefetch" href="/trainingdays/assets/js/65.2d78468c.js"><link rel="prefetch" href="/trainingdays/assets/js/66.a7d06d35.js"><link rel="prefetch" href="/trainingdays/assets/js/67.5de73a5e.js"><link rel="prefetch" href="/trainingdays/assets/js/68.f6f4c427.js"><link rel="prefetch" href="/trainingdays/assets/js/69.aa3c0657.js"><link rel="prefetch" href="/trainingdays/assets/js/7.0e2524bf.js"><link rel="prefetch" href="/trainingdays/assets/js/70.c116a905.js"><link rel="prefetch" href="/trainingdays/assets/js/71.34bb5f4a.js"><link rel="prefetch" href="/trainingdays/assets/js/72.aa9947e8.js"><link rel="prefetch" href="/trainingdays/assets/js/73.a6dc05e7.js"><link rel="prefetch" href="/trainingdays/assets/js/74.774c0f8b.js"><link rel="prefetch" href="/trainingdays/assets/js/75.8fcc3a21.js"><link rel="prefetch" href="/trainingdays/assets/js/76.46acaa39.js"><link rel="prefetch" href="/trainingdays/assets/js/77.2df5fe59.js"><link rel="prefetch" href="/trainingdays/assets/js/78.621183e7.js"><link rel="prefetch" href="/trainingdays/assets/js/79.f73262ec.js"><link rel="prefetch" href="/trainingdays/assets/js/8.5c71bfb1.js"><link rel="prefetch" href="/trainingdays/assets/js/80.4a8fd06d.js"><link rel="prefetch" href="/trainingdays/assets/js/81.59dd494b.js"><link rel="prefetch" href="/trainingdays/assets/js/82.cae84daa.js"><link rel="prefetch" href="/trainingdays/assets/js/83.b6a17fc2.js"><link rel="prefetch" href="/trainingdays/assets/js/84.ad8a0c10.js"><link rel="prefetch" href="/trainingdays/assets/js/85.7b07e28f.js"><link rel="prefetch" href="/trainingdays/assets/js/86.40cfbbdd.js"><link rel="prefetch" href="/trainingdays/assets/js/87.4f11b827.js"><link rel="prefetch" href="/trainingdays/assets/js/88.cb9bf9cf.js"><link rel="prefetch" href="/trainingdays/assets/js/89.38bab1ab.js"><link rel="prefetch" href="/trainingdays/assets/js/9.b747e0f0.js"><link rel="prefetch" href="/trainingdays/assets/js/90.3ae9a1f4.js">
    <link rel="stylesheet" href="/trainingdays/assets/css/0.styles.307428eb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/trainingdays/" class="home-link router-link-active"><!----> <span class="site-name">Azure Developer College</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/azuredevcollege/trainingdays" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/azuredevcollege/trainingdays" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/trainingdays/" aria-current="page" class="sidebar-link">Home</a></li><li><a href="/trainingdays/day1/" class="sidebar-link">Day 1 Azure Fundamentals &amp; Infrastructure</a></li><li><a href="/trainingdays/day2/" class="sidebar-link">Day 2 Azure Development</a></li><li><a href="/trainingdays/day3/" class="sidebar-link">Day 3 Data and AI</a></li><li><a href="/trainingdays/day4/" aria-current="page" class="sidebar-link">Day 4 DevOps and Monitoring</a></li><li><a href="/trainingdays/day5/" class="sidebar-link">Day 5 Identity and Architecture</a></li><li><a href="/trainingdays/day6/" class="sidebar-link">Day 6 Containerization</a></li><li><a href="/trainingdays/day7/" class="sidebar-link">Day 7 Kubernetes</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="challenge-02-github-actions-in-action"><a href="#challenge-02-github-actions-in-action" class="header-anchor">#</a> Challenge: 02 GitHub Actions in Action</h1> <p>‚è≤Ô∏è <em>est. time to complete: 30 min.</em> ‚è≤Ô∏è</p> <h2 id="here-is-what-you-will-learn-üéØ"><a href="#here-is-what-you-will-learn-üéØ" class="header-anchor">#</a> Here is what you will learn üéØ</h2> <p>In this challenge you will learn:</p> <ul><li>how github pages serves static content from you repositories</li> <li>how to create a first github action</li> <li>how the github script action can help you do workflow automation</li> <li>how to use github actions to run a static site generator</li></ul> <h2 id="table-of-contents"><a href="#table-of-contents" class="header-anchor">#</a> Table of contents</h2> <ol><li><a href="#getting-started">Getting started</a></li> <li><a href="#a-clean-slate----github-pages">A clean slate - GitHub Pages</a></li> <li><a href="#create-a-new-repository">Create a new repository</a></li> <li><a href="#create-a-hello-world-on-github-pages">Create a Hello World on Github Pages</a></li> <li><a href="#action">Action</a></li> <li><a href="#what-weve-learned">What we've learned</a></li> <li><a href="#further-reading">Further reading</a></li></ol> <h2 id="getting-started"><a href="#getting-started" class="header-anchor">#</a> Getting started</h2> <p>In this challenge we will take a first look at GitHub Actions. GitHub Actions is
GitHubs built in workflow automation and CI/CD tool.</p> <p>In this challenges we will start playing around with Actions and in doing so
create a GitHub user profile page with automated deployment.</p> <p>Let's get started! üí™üë©</p> <h2 id="a-clean-slate-üßª-github-pages"><a href="#a-clean-slate-üßª-github-pages" class="header-anchor">#</a> A clean slate üßª - GitHub Pages</h2> <p>For this challenge we will again work on an empty repository so nothing comes in
the way of our automation attempts. Before you create this repository, please read
this section about repository naming in relation to GitHub Pages.</p> <p>We also want to give you a quick tour on GitHub Pages. This feature allows you
to host static websites directly on GitHub, making for a great place to
host your documentation for your project together with it's source code.</p> <p>GitHub Pages are hosted dependent on the repository name.</p> <p>After enabling the feature, your page is available under the following link by default:</p> <p><code>https://&lt;username or organization name&gt;.github.io/&lt;repository name</code></p> <p>For each organization and user there is one <em>special</em> repository name <code>&lt;username or organization name&gt;.github.io</code> reserved to host the root level GitHub Page
<code>https://&lt;username or organization name&gt;.github.io/</code> for you account or
organization.</p> <p>Let's try this now!</p> <div class="custom-block tip"><p class="custom-block-title">üìù</p> <p>As an added bonus you can use this challenge to create a profile,
portfolio or documentation page for your organization or personal github
account.</p></div> <h2 id="create-a-new-repository"><a href="#create-a-new-repository" class="header-anchor">#</a> Create a new repository</h2> <p>Create a new <strong>public</strong> repository on your organizational account for todays exercises, but be careful when naming this repository.</p> <p>See an example for naming your repository here:</p> <p><img src="/trainingdays/assets/img/create-new-repository-2.72af56bd.png" alt="detailed view of repository"></p> <p>This allows you to later access this site using your organizations name like this:</p> <p><code>https://&lt;username or organizationname&gt;.github.io</code></p> <p>Make sure you create a public repository and leave it empty for now.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>üìù If you do <em>not</em> want to create a profile page or have one already just
create a new repository with a different name. You will have to enable GitHub
Pages on your repository manually though.</p></div> <h3 id="create-a-hello-world-on-github-pages"><a href="#create-a-hello-world-on-github-pages" class="header-anchor">#</a> Create a Hello World on Github Pages</h3> <p>For anything to show up on your GitHub Page you have to create an <code>index.html</code>
file on the <code>main</code> branch. So let's do just that!</p> <p>You can create a new file directly on the GitHub website:</p> <p><img src="/trainingdays/assets/img/create-new-file.1a83215b.png" alt="Hint to create new file"></p> <p>Let's insert some fancy &quot;hello world&quot; HTML:</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- index.html --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello World! üåç<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><img src="/trainingdays/assets/img/helloworldindexhtml.90711803.png" alt="Index.html"></p> <p>And save the file using the commit changes dialog at the bottom of the
editor window.</p> <p>Seconds later your profile page will be visible on:</p> <p><code>https://&lt;username or organizationname&gt;.github.io</code></p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>üìù If you created a repository with a different name you have to enable
GitHub Pages under your repositories <code>Settings &gt; Pages</code> menu.</p></div> <p>Your page should look something like this:</p> <p><img src="/trainingdays/assets/img/hello-world.2b4eb459.png" alt="Hello World website"></p> <p>For now we've learned about GitHub Pages and how we can use them to serve simple
static content on the default <code>github.io</code> domain. In your repositories settings
you can enable custom domains. Custom domains allow you to serve your site from
a domain other than <code>github.io</code>.</p> <p>Although the static content might seem limiting, GitHub Pages can host complex
Javascript Static WebApps. Pages are an excellent way to host documentations for
your projects and the Azure developer college itself uses GitHub Pages to serve
you this tutorial content.</p> <p>Another interesting project you might want to look at is
<a href="https://www.netlifycms.org/" target="_blank" rel="noopener noreferrer">netlify cms<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. By using GitHubs own API Netlify
enables you to use your repository as a backend for a fully featured content
management system.</p> <h2 id="action"><a href="#action" class="header-anchor">#</a> Action</h2> <p>But where is the <strong>Action</strong> in all this, you might ask yourself. Worry not, we
are getting started.</p> <p>Now we will write our first &quot;Hello World&quot; style GitHub Action workflow and once
we get the basics of it we will take a look how we could combine GitHub Actions
with GitHub Pages to generate and serve beautiful websites.</p> <h3 id="workflows"><a href="#workflows" class="header-anchor">#</a> Workflows</h3> <p>GitHub Actions are written and run in so called Workflows. A GitHub Actions
Workflow is a single <code>.yaml</code> file in your repositories <code>.github/workflows/</code>
folder.</p> <p>First let's setup a new <code>hello-world</code> workflow by navigating to <code>Actions</code> and
using the <code>set up a workflow yourself</code> option.</p> <p><img src="/trainingdays/assets/img/setupworkflow.71b5a56d.png" alt="Workflow Setup"></p> <p>Take a good look at the provided example as it has comments every line for you
to orient yourself if the syntax for workflows is new to you.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>üìù
If you are all new to <code>yaml</code> please take a look at the <a href="#further-reading">further
reading</a> section at the end of this page.</p></div> <p>Now let's replace the content of the workflow file with the Hello World
workflow, provided in the listing below.</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token comment"># hello-world.yaml</span>
<span class="token key atrule">name</span><span class="token punctuation">:</span> Hello World<span class="token tag">!</span>

<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token key atrule">push</span><span class="token punctuation">:</span>
  <span class="token key atrule">workflow_dispatch</span><span class="token punctuation">:</span>

<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">greet</span><span class="token punctuation">:</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest

    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> echo &quot;üéâ The job was automatically triggered by a $<span class="token punctuation">{</span><span class="token punctuation">{</span> github.event_name <span class="token punctuation">}</span><span class="token punctuation">}</span> event.&quot;
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> echo &quot;üêß This job is now running on a $<span class="token punctuation">{</span><span class="token punctuation">{</span> runner.os <span class="token punctuation">}</span><span class="token punctuation">}</span> server hosted by GitHub<span class="token tag">!</span>&quot;
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> echo &quot;üîé The name of your branch is $<span class="token punctuation">{</span><span class="token punctuation">{</span> github.ref <span class="token punctuation">}</span><span class="token punctuation">}</span> and your repository is $<span class="token punctuation">{</span><span class="token punctuation">{</span> github.repository <span class="token punctuation">}</span><span class="token punctuation">}</span>.&quot;
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Send a hello world
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/github<span class="token punctuation">-</span>script@v4.0.2
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">script</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
            github.issues.create({
              owner: context.repo.owner,
              repo: context.repo.repo,
              title: &quot;Hello World! üëã&quot;,
              body: &quot;Hello üåç from GitHub Actions!&quot;
            });</span>
</code></pre></div><p>Let's take a close look at the most important parts and keywords of this first
workflow.</p> <h4 id="name-workflow"><a href="#name-workflow" class="header-anchor">#</a> name - Workflow</h4> <p>The name of your workflow. GitHub displays the names of your workflows on your
repository's actions page.</p> <h4 id="on-event"><a href="#on-event" class="header-anchor">#</a> on - Event</h4> <p>The <code>on</code> keywords is required and allows you to specify the kind of <em>events</em>
your workflow file is executed <strong>on</strong>.</p> <p>Some of the most used events are:</p> <ul><li><strong>push</strong>: triggered when a new commit is pushed to your repository.</li> <li><strong>pull_request</strong>: triggered when a pull request is opened in your repository.</li> <li><strong>release</strong>: triggered when a new release tag was created on your repository.</li> <li><strong>workflow_dispatch</strong>: triggered when a user manually starts the workflow
on the GitHub website.</li> <li><strong>repository_dispatch</strong>: to allow custom webhooks to trigger your workflow.</li> <li><strong>schedule</strong>: for recurring task to run on a schedule.</li></ul> <p>You can configure your workflows to run when specific activity on GitHub
happens, at a scheduled time, or when an event outside of GitHub occurs.</p> <p>For more information and a detailed explanation of <a href="https://docs.github.com/en/actions/reference/events-that-trigger-workflows" target="_blank" rel="noopener noreferrer">events that trigger
workflows<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
please refer to the GitHub documentation.</p> <h4 id="jobs"><a href="#jobs" class="header-anchor">#</a> jobs</h4> <p>A workflow run is made up of one or more jobs. Jobs run in parallel by default.
To run jobs sequentially, you can define dependencies on other jobs using the
<code>jobs.&lt;job_id&gt;.needs</code> keyword.</p> <p>Jobs require the <code>runs-on</code> keyword, to tell the pipeline on which kind of machine
&quot;runner&quot; to execute the job.</p> <p>You can run an unlimited number of jobs as long as you are within the workflow
usage limits.</p> <p>In our example we have just one job with the <code>job_id</code> <em>greet</em>, but we could have
multiple jobs for <em>build</em>, <em>test</em> and <em>deploy</em> tasks.</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">build</span><span class="token punctuation">:</span> <span class="token punctuation">...</span>
  <span class="token key atrule">test</span><span class="token punctuation">:</span>
    <span class="token key atrule">needs</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>build<span class="token punctuation">]</span>
    <span class="token punctuation">...</span>
  <span class="token key atrule">deploy</span><span class="token punctuation">:</span>
    <span class="token key atrule">needs</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>build<span class="token punctuation">,</span> test<span class="token punctuation">]</span>
    <span class="token punctuation">...</span>
</code></pre></div><h4 id="steps"><a href="#steps" class="header-anchor">#</a> steps</h4> <p>A job contains a sequence of tasks called steps. Steps can run commands, run
setup tasks, or run an action in your repository, a public repository, or an
action published in a Docker registry. Not all steps run actions, but all
actions run as a step. Each step runs in its own process in the runner
environment and has access to the workspace and filesystem. Because steps run in
their own process, changes to environment variables are not preserved between
steps.</p> <p>In our example we have to kinds of steps:</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">steps</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> <span class="token punctuation">...</span>
  <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/<span class="token punctuation">...</span>
</code></pre></div><p>The <code>run</code> steps directly execute in the shell of the jobs runner.</p> <p>The steps with the <code>uses</code> keyword refer to an Action which can perform more
complex tasks.</p> <h4 id="actions"><a href="#actions" class="header-anchor">#</a> Actions</h4> <p>The most powerful feature of GitHub Actions are the Actions themselves. There is
a large collection of predefined GitHub Actions on GitHubs own
<a href="https://github.com/marketplace?type=actions" target="_blank" rel="noopener noreferrer">marketplace<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Take a look at the marketplace and search for <code>Azure</code> actions. You will see that
there is already a variety of convenience functions pre-built to be used in your
own workflows. Anytime you write a new workflow file, this is the first place to
take a look if there is already something that you could use.</p> <p><a href="https://github.com/actions" target="_blank" rel="noopener noreferrer">GitHubs own Actions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> can be found in the <em>actions</em>
org on GitHub.</p> <p>Please be careful when using Actions from unverified sources or any third party
that you don't trust, since these Actions are usually executed in the context of
your own repository.</p> <p>For your repository and your organizations under <code>Settings &gt; Actions</code> you can
configure policies that allow or prevent 3rd party actions from being run inside
your workflows. You can also restrict the kind of permission that workflows have
by default on your repository.</p> <p>In our sample we use the <a href="https://github.com/actions/github-script" target="_blank" rel="noopener noreferrer">GitHub Script
Action<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to have a simple interface for
interacting with GitHubs own APIs. This Action can be used to do some amazing
workflow automation.</p> <h4 id="context-and-expression-syntax"><a href="#context-and-expression-syntax" class="header-anchor">#</a> Context and expression syntax</h4> <div><p>In the first three steps of our sample workflow we use some the expression
syntax <code>${{ expression accessing the context }}</code> to access the context of our
workflow.</p></div><p>The expression syntax allow you to access context information for your workflow
like:</p> <ul><li>environment variables</li> <li>secrets stored for your workflows</li> <li>details about the event and user that triggered the workflow</li> <li>information about your repository and organization</li></ul> <h3 id="committing-the-workflow-file"><a href="#committing-the-workflow-file" class="header-anchor">#</a> Committing the workflow file</h3> <p>Now that we've discussed the basics of workflows and this sample let's commit
the file directly to our <code>main</code> branch.</p> <p><img src="/trainingdays/assets/img/helloworldaction.43fa8e8b.png" alt="Hello World Action"></p> <p>This should immediately start our workflow since we declared the <code>on: push</code>
event as a trigger for the workflow.</p> <p>Take a look if you can spot the running Action an drill down into logs the
current workflow run.</p> <p><img src="/trainingdays/assets/img/actionrunning.1fa16e87.png" alt="Action Running"></p> <p>Once the workflow is executed successfully you will see a new <code>Hello World Issue</code> under the <code>Issues</code>
section.</p> <p><img src="/trainingdays/assets/img/helloworldissue.8c359f5c.png" alt="Hello World Issue"></p> <h2 id="run-a-static-site-generator-in-your-workflow"><a href="#run-a-static-site-generator-in-your-workflow" class="header-anchor">#</a> Run a static site generator in your workflow</h2> <p>Now we will combine what we have learned about Pages and Actions to create a
workflow that takes the markdown files in our repository, generates a static
html website and deploys it directly to our GitHub Page.</p> <p>Since our repository does not even have a minimal <code>README.md</code> file at the moment
let's create one. GitHub should show you an <code>Add a README</code> button right on your
projects landing page.</p> <p><img src="/trainingdays/assets/img/AddReadMe.66c8169b.png" alt="Add README.md"></p> <p>Write you own <code>README</code> or copy over the sample we've provided here. This
<code>README</code> will be the basis for your website content we will generate using
<a href="https://vuepress.vuejs.org/" target="_blank" rel="noopener noreferrer">VuePress<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>The sample shows some of the basics you can do with Markdown. Markdown uses a
simple plain text system to be rendered to semantic HTML.</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>üìù
Note that GitHub renders the <code>README.md</code> using <a href="https://github.github.com/gfm/" target="_blank" rel="noopener noreferrer">GitHub Flavored
Markdown<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to display a landing page for your
project whereas <a href="https://vuepress.vuejs.org/" target="_blank" rel="noopener noreferrer">VuePress<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> uses
<a href="https://github.com/markdown-it/markdown-it" target="_blank" rel="noopener noreferrer">markdown-it<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> to render the Markdown
into HTML.</p></div> <div class="language-md extra-class"><pre class="language-md"><code><span class="token title important"><span class="token punctuation">#</span> azdc-training.github.io</span>

Landing page for azdc-training organization - have fun! üöÄ

This is a sample README.md where you document your newly created Coding Dreams! üßö‚Äç‚ôÄÔ∏è üßö‚Äç‚ôÇÔ∏è

And if you'd like to use syntax highlighting, include the language:

<span class="token code"><span class="token punctuation">```</span><span class="token code-language">javascript</span>
<span class="token code-block language-javascript"><span class="token keyword">if</span> <span class="token punctuation">(</span>isAwesome<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span></span>
<span class="token punctuation">```</span></span>

ü¶∏‚Äç‚ôÄÔ∏è ü¶∏‚Äç‚ôÇÔ∏è

But I have to admit, tasks lists are my favorite:

<span class="token list punctuation">-</span> [x] This is a complete item
<span class="token list punctuation">-</span> [ ] This is an incomplete item

Don't forget to add images:

<span class="token url"><span class="token operator">!</span>[<span class="token content">wow</span>](<span class="token url">https://upload.wikimedia.org/wikipedia/en/5/5f/Original_Doge_meme.jpg</span>)</span>

and <span class="token url">[<span class="token content">Links</span>](<span class="token url">https://en.wikipedia.org/wiki/Doge_(meme</span>)</span>
</code></pre></div><h3 id="setting-up-the-workflow"><a href="#setting-up-the-workflow" class="header-anchor">#</a> Setting up the workflow</h3> <p>This time we will start to write a little more complex workflow that will do the
following:</p> <ul><li><p>when pushing to the <code>main</code> branch</p></li> <li><p>or when creating a Pull Request to the <code>main</code> branch</p></li> <li><p>run a <code>build</code> job that</p> <ul><li>checks out the source code</li> <li>sets up nodejs</li> <li>runs the <code>vuepress build</code> using <code>npx</code></li> <li>stores the result as an artifact</li></ul></li> <li><p>and a <code>deploy</code> job</p> <ul><li>that only runs on the <code>main</code> branch</li> <li>downloads the stored artifact</li> <li>deploys the content of the artifact on the <code>gh-pages</code> branch in the same repository</li></ul></li></ul> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>To see that the deploy job only runs on the main branch commit the workflow file
on a separate branch and open a new Pull Request.</p></div> <div class="language-yml extra-class"><pre class="language-yml"><code><span class="token key atrule">name</span><span class="token punctuation">:</span> pages

<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token key atrule">push</span><span class="token punctuation">:</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> main
  <span class="token key atrule">pull_request</span><span class="token punctuation">:</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> main

<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">build</span><span class="token punctuation">:</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest

    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2

      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v2.1.5
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token string">'12'</span>

      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> npx vuepress build
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Upload result of vuepress build
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/upload<span class="token punctuation">-</span>artifact@v2
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">name</span><span class="token punctuation">:</span> static<span class="token punctuation">-</span>website
          <span class="token key atrule">path</span><span class="token punctuation">:</span> .vuepress/dist

  <span class="token key atrule">deploy</span><span class="token punctuation">:</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest
    <span class="token key atrule">needs</span><span class="token punctuation">:</span> build

    <span class="token key atrule">if</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> github.ref == 'refs/heads/main' <span class="token punctuation">}</span><span class="token punctuation">}</span>

    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Download build of static website
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/download<span class="token punctuation">-</span>artifact@v2
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">name</span><span class="token punctuation">:</span> static<span class="token punctuation">-</span>website
          <span class="token key atrule">path</span><span class="token punctuation">:</span> .vuepress/dist
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Deploy to GitHub Pages
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> crazy<span class="token punctuation">-</span>max/ghaction<span class="token punctuation">-</span>github<span class="token punctuation">-</span>pages@v2
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">build_dir</span><span class="token punctuation">:</span> .vuepress/dist
        <span class="token key atrule">env</span><span class="token punctuation">:</span>
          <span class="token key atrule">GITHUB_TOKEN</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.GITHUB_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div><p>Once we approve the Pull Request both jobs should execute and you should see a
new branch named <code>gh-pages</code> on your repository.</p> <p>Your GitHub Page still serves the default <code>main</code> branch so for you to actually
see the hosted website change you need to go to your repositories <code>Settings &gt; Pages</code>
site, change the branch used to serve the Page and save.</p> <p><img src="/trainingdays/assets/img/changebranchesinpages.c32d3275.png" alt="change branches"></p> <p>Now your website should update and show the content of the <code>README.md</code> rendered
using VuePress.</p> <p><img src="/trainingdays/assets/img/vuepressreadme.3c9effec.png" alt="vuepress"></p> <h2 id="what-we-ve-learned"><a href="#what-we-ve-learned" class="header-anchor">#</a> What we've learned</h2> <p>We've taken a tour of two important features of GitHub. We've seen GitHub
Actions being able to build, test and deploy a simple website and having the
ability to do workflow scripting using GitHubs own APIs.</p> <p>And we've discovered GitHub Pages and used them as a deployment target for our
first CI/CD pipeline creating a static website.</p> <h2 id="further-reading"><a href="#further-reading" class="header-anchor">#</a> Further reading</h2> <ul><li><a href="https://dev.to/paulasantamaria/introduction-to-yaml-125f" target="_blank" rel="noopener noreferrer">Introduction to YAML<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://vuepress.vuejs.org/" target="_blank" rel="noopener noreferrer">VuePress<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.netlifycms.org/" target="_blank" rel="noopener noreferrer">Netlify CMS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p><a href="/trainingdays/day4/challenges/01-challenge-boards.html">‚óÄ Previous challenge</a> | <a href="/trainingdays/day4/" class="router-link-active">üîº Day 4</a> | <a href="/trainingdays/day4/challenges/03-challenge-bicep.html">Next challenge ‚ñ∂</a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/azuredevcollege/trainingdays/edit/master/day4/challenges/02-github-actions-intro.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/trainingdays/assets/js/app.f35de7a7.js" defer></script><script src="/trainingdays/assets/js/2.989cf5bf.js" defer></script><script src="/trainingdays/assets/js/19.9e4b55d0.js" defer></script>
  </body>
</html>
